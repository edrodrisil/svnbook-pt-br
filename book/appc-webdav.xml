<appendix id="svn.webdav">
  <title>WebDAV e Autoversionamento</title>

  <para>WebDAV é uma extensão do HTTP, e está se tornando cada vez mais
    popular como um padrão para compartilhamento de arquivos.  Hoje em
    dia, os sistemas operacionais estão se tornado extremamente
    relacionados à Web, e muitos agora têm suporte para montar
    <quote>compartilhamentos</quote> exportados por servidores
    WebDAV.</para>

  <para>Se você usa o Apache como seu servidor de rede para o
    Subversion, então para algumas extensões você também deve estar
    executando um servidor WebDAV.  Este apêndice oferece algum suporte
    sobre a natureza deste protocolo, como o Subversion o utiliza, e o
    quão boa é a interoperabilidade do Subversion com outros softwares
    relacionados com o WebDAV.</para>


  <!-- ================================================================= -->
  <!-- ================================================================= -->
  <!-- ================================================================= -->
  <sect1 id="svn.webdav.basic">
    <title>O que é WebDAV?</title>

    <para><firstterm>DAV</firstterm> é uma sigla em inglês para
      <quote>Versionamento e Autoração Distribuída</quote>.  A RFC 2518
      define um conjunto de conceitos e métodos de extensão relacionados
      a HTTP 1.1 que transformam a web em uma mídia mais universal de
      leitura e escrita.  A idéia básica é que um servidor web que siga
      o padrão WebDAV pode agir como um servidor de arquivos genérico;
      os clientes podem <quote>montar</quote> pastas compartilhadas
      sobre HTTP que se comportem como qualquer outro sistema de
      arquivos de rede (como NFS ou SMB.)</para>

    <para>O problema, porém, é que apesar do acrônimo, a especificação
      RFC atualmente não descreve qualquer forma de controle de versão.
      Clientes básicos de WebDAC e servidores assumem apenas uma versão
      para cada arquivo ou diretório existente, e podem ser
      repetidamente sobrescritos.</para>

    <para>Devido a RFC 2518 não contemplar conceitos de versionamento,
      outro comitê tomou para si a responsabilidade de escrever a RFC
      3253 alguns anos depois.  A nova RFC adiciona conceitos de
      versionamento ao WebDAV, fazendo valer o significado do
      <quote>V</quote> em <quote>DAV</quote>&mdash;daí o termo
      <quote>DeltaV</quote>.  Clientes e servidores WebDAV/DeltaV quase
      sempre são apenas chamados de programas <quote>DeltaV</quote>, uma
      vez que DeltaV implica na existência de WebDAV básico.</para>

    <para>O padrão WebDAV original tem sido largamente usado com
      sucesso.  Cada sistema operacional de computadores modernos tem
      uma implementação interna de um cliente WebDAV (mais detalhes a
      seguir), e diversas aplicações indepentendes populares também são
      capazes de se comunicar em WebDAV&mdash;como o Microsoft Office,
      Dreamweaver, e Photoshop para relacionar apenas algumas.  No lado
      do servidor, o servidor web Apache tem capacidade de oferecer
      serviços WebDAC desde 1998 e é considerado o padrão open-source
      <quote>de-facto</quote>.  Há outros servidores WebDAV disponíveis,
      incluindo o próprio IIS da Microsoft.</para>

    <para>Já o DeltaV, infelizmente, não tem sido tão bem sucedido.  É
      muito difícil de encontrar clientes ou servidores DeltaV.  Os
      poucos que existem são produtos comerciais relativamente
      desconhecidos, e assim é muito difícil testar interoperabilidade.
      Não é totalmente claro o porquê de que o DeltaV permanece
      estagnado.  Alguns argumentam apenas que a especificação é muito
      complexa, já outros dizem que apesar de os recursos do WebDAV
      terem apelo maciço (ao menos para usuários técnicos que apreciem
      compartilhamento de arquivos em rede), recursos de controle de
      versão não são interessantes ou mesmo necessários para a maioria
      dos usuários.  Finalmente, alguns ainda consideram que o DeltaV
      permanece impopular porque ainda não há um servidor como produto
      open-source que o implemente tão bem.</para>

    <para>Ainda que o Subversion ainda esteja em fase de
      desenvolvimento, parece uma grande idéia usar o Apache como
      servidor de rede.  Ele já possui um módulo para prover serviços
      WebDAV.  DeltaV era uma especificação relativamente nova.  A
      esperança era que o módulo servidor do Subversion (o
      <command>mod_dav_svn</command>) pudesse eventualmente evoluir para
      uma implementação open-source de referência DeltaV.  Infelizmente,
      o DeltaV tem um modelo de versionamento muito específico que não é
      exatamente adequado ao modelo do Subversion.  Alguns conceitos
      foram mapeados, mas outros não.</para>

    <para>Mas então, o que isto significa?</para>

    <para>Primeiro, o cliente Subversion não é uma implementação
      completa de um cliente DeltaV.  Ele precisa de algumas certas
      coisas do servidor que o DeltaV em si não pode prover, e assim
      ele é altamente dependente de diversas requisições HTTP
      <literal>REPORT</literal> específicas para o Subversion que apenas
      o <command>mod_dav_svn</command> pode entender.</para>

    <para>Segundo, o <command>mod_dav_svn</command> também não é um
      servidor DeltaV completamente implementado.  Muitas partes da
      especificação DeltaV eram irrelevantes para o Subversion, e assim
      simplesmente não foram implementadas.</para>

    <para>Ainda há um certo debate na comunidade de desenvolvedores se
      ainda é ou não adequado preocupar-se em tentar remediar estas
      situações.  É quase impensável alterar-se o projeto do Subversion
      para corresponder à especificação DeltaV, então provavelmente não
      há nada que que um cliente não pode aprender para ter tudo o que
      precisa de um servidor DeltaV.  Por outro lado, o
      <command>mod_dav_svn</command> <emphasis>poderia</emphasis> ser
      desenvolvido para implementar tudo do DeltaV, mas é difícil
      encontrar motivação para fazê-lo&mdash;não há muitos clientes
      DeltaV com os quais se possa comunicar.</para>

  </sect1>

  <!-- ================================================================= -->
  <!-- ================================================================= -->
  <!-- ================================================================= -->
  <sect1 id="svn.webdav.autoversioning">
    <title>Autoversionamento</title>

    <para>Ainda que o cliente Subversion não seja um cliente DeltaV
      completo, e que nem mesmo o servidor Subversion serja um servidor
      DeltaV completo, ainda há um lampejo de interoperabilidade com o
      WebDAV com o qual se contentar: é o chamado autoversionamento.</para>

    <para>Autoversionamento é um recurso opcional definido no padrão
      DeltaV.  Um servidor DeltaV típico irá rejeitar um cliente WebDAV
      ignorante que tente fazer um <literal>PUT</literal> em um arquivo
      que esteja sob controle de versão.  Para alterar um arquivo
      versionado, o servidor expera uma série de requisições próprias
      relacionadas a versionamento: algo como
      <literal>MKACTIVITY</literal>, <literal>CHECKOUT</literal>,
      <literal>PUT</literal>, <literal>CHECKIN</literal>.  Mas se o
      servidor DeltaV suportar autoversionamento, então as requisições
      de escrita a partir de clientes WebDAV básicos são aceitas.  O
      servidor se comporta como se o cliente
      <emphasis>tivesse</emphasis> feito o conjunto de requisições
      próprias relacionadas ao versionamento adequadas, executando uma
      submissão (<foreignphrase>commit</foreignphrase>) por debaixo dos
      panos.  Em outras palavras, ele permite a um servidor DeltaV
      interoperar com clientes WebDAV ordinários que não entendam
      versionamento.</para>

    <para>Pelo fato de que muitos sistemas operacionais já têm clientes
      WebDAV integrados, o caso de uso para este recurso pode ser
      incrivelmente interessante a administradores que estejam
      trabalhando com usuários não-técnicos: imagine um escritório de
      usuários comuns executando Microsoft Windows ou Mac OS.  Cada
      usuário <quote>monta</quote> o repositório Subversion, o qual
      aparece como uma pasta de rede normal.  Eles usam a pasta
      compartilhada como estão acostumados: abrem arquivos, fazem
      modificações, salvam.  Enquanto isso, o servidor está
      automaticamente versionando tudo.  Qualquer administrador (ou
      usuário com conhecimento adequado) ainda pode usar um cliente
      Subversion para pesquisar num histórico e obter versões mais
      antigas dos dados.</para>

    <para>Este cenário não é fictício: é real e funciona, sendo o
      Subversion versão 1.2 ou posterior.  Para ativar o
      autoversionamento no <command>mod_dav_svn</command>, use a
      diretiva <literal>SVNAutoversioning</literal> dentro do bloco
      Location no <filename>httpd.conf</filename>, mais ou menos
      assim:</para>

    <screen>
&lt;Location /repos&gt;
  DAV svn
  SVNPath /path/to/repository
  SVNAutoversioning on
&lt;/Location&gt;
</screen>

    <para>Quando o SVNAutoversioning está ativa, requisições de escrita
      a partir de clientes WebDAV resultam em submissões automáticas.
      Uma mensagem de log genérica é gerada automaticamente e anexada a
      cada revisão.</para>

    <para>Antes de ativar este recurso, no entanto, entenda no que você
      está se metendo.  Clientes WebDAV tendem a fazer
      <emphasis>muitas</emphasis> requisições de escrita, resultando em
      um número enorme de revisões submetidas automaticamente.  Por
      exemplo, ao salvar dados, muitos clientes farão um
      <literal>PUT</literal> de um arquivo de zero bytes (como uma forma
      de reservar um nome) seguida de outro <literal>PUT</literal> com
      os dados do arquivo real.  Um único salvamento de arquivo resulta
      em duas submissões em separado.  Também considere que muitas
      aplicações realizam salvamento automático em intervalos definidos,
      resultando em ainda mais submissões de rede.</para>

    <para>Se você tiver um script de hook post-commit que envie um
      e-mail, você pode querer desabilitar a geração de e-mail como um
      todo, ou em certas seções do repositório; depende de como você
      acha que o fluxo de e-mails resultante ainda sejam notificações
      importantes ou não.  Ainda, um script de hook post-commit esperto
      pode diferenciar entre uma transação criada a partir de
      autoversionamento e uma criada a partir de um <command>svn
      commit</command> normal.  O truque é olhar para uma propriedade da
      revisão chamada <literal>svn:autoversioned</literal>.  Se existir,
      o commit foi feito por um cliente WebDAV genérico.</para>

    <para>Outro recurso que pode ser um útil complemento para o
      <literal>SVNAutoversioning</literal> vem do módulo
      <literal>mod_mime</literal> do Apache.  Se um cliente WebDAV
      adicionar um novo arquivo ao repositório, não haverá uma
      oportunidade para que o usuário defina a propriedade
      <literal>svn:mime-type</literal>.  Isto pode fazer com que o
      arquivo apareça como um ícone genérico quando visto em uma pasta
      WebDAV compartilhada, não associado a nenhuma aplicação.  Uma
      solução é ter um administrador de sistema (ou outra pessoa com
      conhecimento do Subversion) que obtenha uma cópia de trabalho e
      defina manualmente a propriedade <literal>svn:mime-type</literal>
      nos arquivos necessários.  Mas potencialmente essas tarefas de
      limpeza potencialmente não têm fim.  Ao invés disso, você pode
      usar a diretiva <literal>ModMimeUsePathInfo</literal> no bloco
      <literal>&lt;Location&gt;</literal> de seu Subversion:</para>

    <screen>
&lt;Location /repos&gt;
  DAV svn
  SVNPath /path/to/repository
  SVNAutoversioning on

  ModMimeUsePathInfo on

&lt;/Location&gt;
</screen>

    <para>Esta diretiva permite que o <literal>mod_mime</literal> para
      tentar deduzir automaticamente o tipo mime em novos arquivos
      adicionados ao repositório pelo autoversionamento.  O módulo
      verifica a extensão do nome do arquivo e possivelmente seu
      conteúdo também; se o arquivo corresponder a alguns padrões
      comuns, então a propriedade <literal>svn:mime-type</literal> será
      definida automaticamente.</para>

  </sect1>

  <!-- ================================================================= -->
  <!-- ================================================================= -->
  <!-- ================================================================= -->
  <sect1 id="svn.webdav.clients">
    <title>Interoperabilidade com Softwares Clientes</title>

    <para>Todos os clientes WebDAV entram em uma de três
      categorias&mdash;aplicações independentes, extensões para
      gerenciadores de arquivos, ou implementações de sistemas de
      arquivos.  Estas categorias definem amplamente os tipos de
      funcionalidades WebDAV disponíveis aos usuários.  <xref
      linkend="svn.webdav.clients.tbl-1"/> mostra nossa categorização e
      uma breve descrição de algumas das partes mais comuns de softwares
      disponíveis para WebDAV.  Mais detalhes sobre o que esses
      softwares oferecem, bem como sua categorização geral, podem ser
      encontrados nas seções seguintes.</para>

    <table id="svn.webdav.clients.tbl-1">
      <title>Clientes WebDAV Comuns</title>
      <tgroup cols="6">
        <thead>
          <row>
            <entry>Software</entry>
            <entry>Tipo</entry>
            <entry>Windows</entry>
            <entry>Mac</entry>
            <entry>Linux</entry>
            <entry>Descrição</entry>
          </row>
        </thead>
        <tbody>
          <row>
            <entry>Adobe Photoshop</entry>
            <entry>Aplicação WebDAV independente</entry>
            <entry>X</entry>
            <entry></entry>
            <entry></entry>
            <entry>Software de edição de imagens, que permite abrir, e
              escrever diretamente em URLs WebDAV</entry>
          </row>
          <row>
            <entry>Cadaver</entry>
            <entry>Aplicação WebDAV independente</entry>
            <entry></entry>
            <entry>X</entry>
            <entry>X</entry>
            <entry>Cliente WebDAV de linha de comando que suporta
              transferência de arquivos, árvores, e operações de
              travamento</entry>
          </row>
          <row>
            <entry>DAV Explorer</entry>
            <entry>Aplicação WebDAV independente</entry>
            <entry>X</entry>
            <entry>X</entry>
            <entry>X</entry>
            <entry>Ferramenta GUI Java para navegação em
              compartilhamentos WebDAV</entry>
          </row>
          <row>
            <entry>Macromedia Dreamweaver</entry>
            <entry>Aplicação WebDAV independente</entry>
            <entry>X</entry>
            <entry></entry>
            <entry></entry>
            <entry>Software de produção web capaz de ler de e escrever
              diretamente em URLs WebDAV</entry>
          </row>
          <row>
            <entry>Microsoft Office</entry>
            <entry>Aplicação WebDAV independente</entry>
            <entry>X</entry>
            <entry></entry>
            <entry></entry>
            <entry>Suíte de produtividade de escritório com diversos
              componentes capazes de ler de e escrever diretamente em
              URLs WebDAV</entry>
          </row>
          <row>
            <entry>Microsoft Web Folders</entry>
            <entry>Extensão WebDAV para gerenciador de arquivos</entry>
            <entry>X</entry>
            <entry></entry>
            <entry></entry>
            <entry>Programa GUI para gerenciador de arquivos que permite
              operações de árvore em compartilhamentos WebDAV</entry>
          </row>
          <row>
            <entry>GNOME Nautilus</entry>
            <entry>Extensão WebDAV para gerenciador de arquivos</entry>
            <entry></entry>
            <entry></entry>
            <entry>X</entry>
            <entry>Gerenciador de arquivos visual capaz de executar
              operações de árvore em compartilhamentos WebDAV</entry>
          </row>
          <row>
            <entry>KDE Konqueror</entry>
            <entry>Extensão WebDAV para gerenciador de arquivos</entry>
            <entry></entry>
            <entry></entry>
            <entry>X</entry>
            <entry>Gerenciador de arquivos visual capaz de executar
              operações de árvore em compartilhamentos WebDAV</entry>
          </row>
          <row>
            <entry>Mac OS X</entry>
            <entry>Implementação de sistema de arquivos WebDAV</entry>
            <entry></entry>
            <entry>X</entry>
            <entry></entry>
            <entry>Sistema operacional com suporte nativo para montagem
              de compartilhamentos WebDAV</entry>
          </row>
          <row>
            <entry>Novell NetDrive</entry>
            <entry>Implementação de sistema de arquivos WebDAV</entry>
            <entry>X</entry>
            <entry></entry>
            <entry></entry>
            <entry>Programa de mapeamento de rede para associar letras
              de um drive Windows a um compartilhamento WebDAV
              remoto</entry>
          </row>
          <row>
            <entry>SRT WebDrive</entry>
            <entry>Implementação de sistema de arquivos WebDAV</entry>
            <entry>X</entry>
            <entry></entry>
            <entry></entry>
            <entry>Software de transferência de arquivos que, além de
              outras coisas, permite associação de letras de drives
              Windows a compartilhamentos WebDAV remotos</entry>
          </row>
          <row>
            <entry>davfs2</entry>
            <entry>Implementação de sistema de arquivos WebDAV</entry>
            <entry></entry>
            <entry></entry>
            <entry>X</entry>
            <entry>Driver para sistema de arquivos do Linux que lhe
              permite montar compartilhamentos WebDAV</entry>
          </row>

        </tbody>
      </tgroup>
    </table>

    <!-- =============================================================== -->
    <sect2 id="svn.webdav.clients.standalone">
      <title>Aplicações WebDAV Independentes</title>

      <para>Uma aplicação WebDAV é um programa capaz de conversar via
        protocolos WebDAV com um servidor WebDAV.  Vamos abordar alguns
        dos programas mais populares com esse tipo de suporte a
        WebDAV.</para>

      <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
      <sect3 id="svn.webdav.clients.standalone.windows">
        <title>Microsoft Office, Dreamweaver, Photoshop</title>

        <para>Para Windows, há diversas aplicações bem conhecidas que já
          possuem funcionalidade de cliente WebDAV, tais como os
          programas Microsoft Office,
          <footnote>
            <para>O suporte a WebDAV foi removido do Microsoft Access
              por algum motivo, mas existe nos demais programas da suíte
              de escritório.</para>
          </footnote>
          Adobe Photoshop, e Macromedia Dreamweaver.  Eles são capazes
          de abrir e salvar URLs diretamente, e tendem a fazer uso
          massivo de travas WebDAV ao editar arquivos.</para>

        <para>Veja que ainda que muitos desses programas também existam
          para o Mac OS X, eles não parecem suportar o WebDAV
          nativamente nessa plataforma.  De fato, no Mac OS X, a caixa
          de diálogo <guimenu>File-&gt;Open</guimenu> não permite de
          forma alguma que você digite um caminho ou uma URL.  É como se
          os recursos para WebDAV tivessem sido deliberadamente
          removidos das versões Macintosh desses programas, uma vez que
          o sistema de arquivos do OS X já provê um excelente suporte de
          baixo nível para WebDAV.</para>

      </sect3>

      <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
      <sect3 id="svn.webdav.clients.standalone.free">
        <title>Cadaver, DAV Explorer</title>

        <para>Cadaver is a bare-bones Unix commandline program for
          browsing and changing WebDAV shares.  Like the Subversion
          client, it uses the neon HTTP library&mdash;not
          surprisingly, since both neon and cadaver are written by the
          same author.  Cadaver is free software (GPL license) and is
          available at
          <ulink url="http://www.webdav.org/cadaver/"/>.</para>

        <para>Using cadaver is similar to using a commandline FTP
          program, and thus it's extremely useful for basic WebDAV
          debugging.  It can be used to upload or download files in a
          pinch, and also to examine properties, and to copy, move,
          lock or unlock files:</para>

        <screen>
$ cadaver http://host/repos
dav:/repos/&gt; ls
Listing collection `/repos/': succeeded.
Coll: &gt; foobar                                 0  May 10 16:19
      &gt; playwright.el                       2864  May  4 16:18
      &gt; proofbypoem.txt                     1461  May  5 15:09
      &gt; westcoast.jpg                      66737  May  5 15:09

dav:/repos/&gt; put README
Uploading README to `/repos/README':
Progress: [=============================&gt;] 100.0% of 357 bytes succeeded.

dav:/repos/&gt; get proofbypoem.txt
Downloading `/repos/proofbypoem.txt' to proofbypoem.txt:
Progress: [=============================&gt;] 100.0% of 1461 bytes succeeded.
</screen>

        <para>DAV Explorer is another standalone WebDAV client, written
          in Java.  It's under a free Apache-like license and is
          available at <ulink url="http://www.ics.uci.edu/~webdav/"/>.
          DAV Explorer does everything cadaver does, but has the
          advantages of being portable and being a more user-friendly GUI
          application.  It's also one of the first clients to support
          the new WebDAV Access Control Protocol (RFC 3744).</para>

        <para>Of course, DAV Explorer's ACL support is useless in this
          case, since <command>mod_dav_svn</command> doesn't support
          it.  The fact that both Cadaver and DAV Explorer support
          some limited DeltaV commands isn't particularly useful
          either, since they don't allow <literal>MKACTIVITY</literal>
          requests.  But it's not relevant anyway; we're assuming all
          of these clients are operating against an autoversioning
          repository.</para>

      </sect3>
    </sect2>

    <!-- =============================================================== -->
    <sect2 id="svn.webdav.clients.file-explorer-extensions">
      <title>File-explorer WebDAV extensions</title>

      <para>Some popular file explorer GUI programs support WebDAV
        extensions which allow a user to browse a DAV share as if it
        was just another directory on the local computer, and to
        perform basic tree editing operations on the items in that
        share.  For example, Windows Explorer is able to browse a
        WebDAV server as a <quote>network place</quote>.  Users can
        drag files to and from the desktop, or can rename, copy, or
        delete files in the usual way.  But because it's only a
        feature of the file-explorer, the DAV share isn't visible to
        ordinary applications.  All DAV interaction must happen
        through the explorer interface.</para>

      <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
      <sect3 id="svn.webdav.clients.file-explorer-extensions.windows">
        <title>Microsoft Web Folders</title>

        <para>Microsoft was one of the original backers of the WebDAV
          specification, and first started shipping a client in Windows
          98, known as <quote>Web Folders</quote>.  This client was also
          shipped in Windows NT4 and 2000.</para>

        <para>The original Web Folders client was an extension to
          Explorer, the main GUI program used to browse filesystems.  It
          works well enough.  In Windows 98, the feature might need to
          be explicitly installed if Web Folders aren't already visible
          inside <quote>My Computer</quote>.  In Windows 2000, simply
          add a new <quote>network place</quote>, enter the URL, and the
          WebDAV share will pop up for browsing.</para>

        <para>With the release of Windows XP, Microsoft started shipping
          a new implementation of Web Folders, known as the <quote>WebDAV
          mini-redirector</quote>.  The new implementation is a
          filesystem-level client, allowing WebDAV shares to be mounted
          as drive letters.  Unfortunately, this implementation is
          incredibly buggy.  The client usually tries to convert http
          URLs (<literal>http://host/repos</literal>) into UNC share
          notation (<literal>\\host\repos</literal>); it also often
          tries to use Windows Domain authentication to respond to
          basic-auth HTTP challenges, sending usernames as
          <literal>HOST\username</literal>.  These interoperability
          problems are severe and documented in numerous places around
          the web, to the frustration of many users.  Even Greg Stein,
          the original author of Apache's WebDAV module, recommends
          against trying to use XP Web Folders against an Apache
          server.</para>

        <para>It turns out that the original
          <quote>Explorer-only</quote> Web Folders implementation isn't
          dead in XP, it's just buried.  It's still possible to find it
          by using this technique:</para>

        <orderedlist>

          <listitem>
            <para>Go to 'Network Places'.</para>
          </listitem>

          <listitem>
            <para>Add a new network place.</para>
          </listitem>

          <listitem>
            <para>When prompted, enter the URL of the repository, but
              <emphasis>include a port number</emphasis> in the URL.
              For example, <literal>http://host/repos</literal> would be
              entered as <literal>http://host:80/repos</literal> instead.
            </para>
          </listitem>

          <listitem>
            <para>Respond to any authentication prompts.</para>
          </listitem>

        </orderedlist>

        <para>There are a number of other rumored workarounds to the
          problems, but none of them seem to work on all versions and
          patchlevels of Windows XP.  In our tests, only the previous
          algorithm seems to work consistently on every system.  The
          general consensus of the WebDAV community is that you should
          avoid the new Web Folders implementation and use the old one
          instead, and that if you need a real filesystem-level
          client for Windows XP, then use a third-party program like
          WebDrive or NetDrive.</para>

        <para>A final tip: if you're attempting to use XP Web Folders,
          make sure you have the absolute latest version from
          Microsoft.  For example, Microsoft released a bug-fixed
          version in January 2005, available at
          <ulink url="http://support.microsoft.com/?kbid=892211"/>.
          In particular, this release is known to fix a bug whereby
          browsing a DAV share shows an unexpected infinite
          recursion.</para>

      </sect3>

      <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
      <sect3 id="svn.webdav.clients.file-explorer-extensions.linux-de">
        <title>Nautilus, Konqueror</title>

        <para>Nautilus is the official file manager/browser for the
          GNOME desktop (<ulink url="http://www.gnome.org"/>), and
          Konqueror is the manager/browser for the KDE desktop (<ulink
          url="http://www.kde.org"/>).  Both of these applications have
          an explorer-level WebDAV client built-in, and operate just
          fine against an autoversioning repository.</para>

        <para>In GNOME's Nautilus, from the <guimenu>File
          menu</guimenu>, select <guimenuitem>Open
          location</guimenuitem> and enter the URL.  The repository
          should then be displayed like any other filesystem.</para>

        <para>In KDE's Konqueror, you need to use the
          <literal>webdav://</literal> scheme when entering the URL in
          the location bar.  If you enter
          an <literal>http://</literal> URL, Konqueror will behave
          like an ordinary web browser.  You'll likely see the generic
          HTML directory listing produced
          by <command>mod_dav_svn</command>.  By entering
          <literal>webdav://host/repos</literal> instead of
          <literal>http://host/repos</literal>, Konqueror becomes a
          WebDAV client and displays the repository as a
          filesystem.</para>

      </sect3>
    </sect2>

    <sect2 id="svn.webdav.clients.fs-impl">
      <title>WebDAV filesystem implementation</title>

      <para>The WebDAV filesystem implementation is arguably the best
        sort of WebDAV client.  It's implemented as a low-level
        filesystem module, typically within the operating system's
        kernel.  This means that the DAV share is mounted like any
        other network filesystem, similar to mounting an NFS share on
        Unix, or attaching an SMB share as drive letter in Windows.
        As a result, this sort of client provides completely
        transparent read/write WebDAV access to all programs.
        Applications aren't even aware that WebDAV requests are
        happening.</para>

      <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
      <sect3 id="svn.webdav.clients.fs-impl.windows">
        <title>WebDrive, NetDrive</title>

        <para>Both WebDrive and NetDrive are excellent commercial
          products which allow a WebDAV share to be attached as drive
          letters in Windows.  We've had nothing but success with
          these products.  At the time of writing, WebDrive can be
          purchased from South River Technologies (<ulink
          url="http://www.southrivertech.com"/>).  NetDrive ships with
          Netware, is free of charge, and can be found by searching
          the web for <quote>netdrive.exe</quote>.  Though it is
          freely available online, users are required to have a
          Netware license.  (If any of that sounds odd to you, you're
          not alone.  See this page on Novell's website: <ulink
          url="http://www.novell.com/coolsolutions/qna/999.html"/>)</para>

      </sect3>

      <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
      <sect3 id="svn.webdav.clients.fs-impl.macosx">
        <title>Mac OS X</title>

        <para>Apple's OS X operating system has an integrated
          filesystem-level WebDAV client.  From the Finder, select the
          <guimenuitem>Connect to Server</guimenuitem> item from the
          <guimenu>Go menu</guimenu>.  Enter a WebDAV URL, and it
          appears as a disk on the desktop, just like any other
          mounted volume.  You can also mount a WebDAV share from the
          Darwin terminal by using the <literal>webdav</literal>
          filesystem type with the <command>mount</command> command:</para>

        <screen>
$ mount -t webdav http://svn.example.com/repos/project /some/mountpoint
$
</screen>

        <para>Note that if your <command>mod_dav_svn</command> is
          older than version 1.2, OS X will refuse to mount the share
          as read-write; it will appear as read-only.  This is because
          OS X insists on locking support for read-write shares, and
          the ability to lock files first appeared in Subversion
          1.2.</para>

        <para>One more word of warning: OS X's WebDAV client can
          sometimes be overly sensitive to HTTP redirects.  If OS X is
          unable to mount the repository at all, you may need to enable
          the BrowserMatch directive in the Apache server's
          <filename>httpd.conf</filename>:</para>

        <screen>
BrowserMatch "^WebDAVFS/1.[012]" redirect-carefully
</screen>

      </sect3>

      <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
      <sect3 id="svn.webdav.clients.fs-impl.linux">
        <title>Linux davfs2</title>

        <para>Linux davfs2 is a filesystem module for the Linux kernel,
          whose development is located at <ulink
          url="http://dav.sourceforge.net/"/>.  Once installed, a WebDAV
          network share can be mounted with the usual Linux mount
          command:</para>

        <screen>
$ mount.davfs http://host/repos /mnt/dav
</screen>

      </sect3>
    </sect2>
  </sect1>

</appendix>

<!--
local variables:
sgml-parent-document: ("book.xml" "appendix")
end:
-->
